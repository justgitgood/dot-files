# Set prefix key to Ctrl-a (and unbind default Ctrl-b)
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Re-Order Panes Correctly
set-option -g renumber-windows on

# Changing the base index
set -g base-index 1
setw -g pane-base-index 1

# Enable true color support for better terminal colors
set -g default-terminal "tmux-256color"

# Move the status bar to the top (for a cleaner layout)
set-option -g status-position top

# ** TPM Plugin Manager Setup **
# List of plugins to install and manage
set -g @plugin 'tmux-plugins/tpm'                   # TPM plugin manager
set -g @plugin 'tmux-plugins/tmux-pain-control'     # Pane navigation shortcuts
set -g @plugin 'tmux-plugins/tmux-sensible'         # Sensible default settings for tmux
set -g @plugin 'catppuccin/tmux#v2.1.0'             # Catppuccin theme for tmux (Mocha variant)
set -g @plugin 'tmux-plugins/tmux-yank'
 set -g @plugin 'nhdaly/tmux-better-mouse-mode'

# ** Pane Splitting Shortcuts **
bind | split-window -h   # Horizontal split with Ctrl-a |
bind - split-window -v   # Vertical split with Ctrl-a -

# Enable mouse support (for easy resizing and selection)
set -g mouse on

# Reload tmux configuration (with feedback message)
bind r source-file ~/.tmux.conf \; display-message "Config reloaded!"

# ** Performance Optimizations **
# Reduce the refresh rate of the status bar for better performance
set -g status-interval 2  # Status bar refresh interval in seconds

# ** History & Search Customization **
# Increase scrollback buffer for more history
set -g history-limit 10000  # Increase scrollback limit

# Initialize TPM (Tmux Plugin Manager)
run '~/.tmux/plugins/tpm/tpm'

# Explicitly reload the Catppuccin theme after TPM is initialized
run-shell '/home/kamicody/.tmux/plugins/catppuccin/tmux/catppuccin.tmux'

# ** Fix for X Server Authorization Issues **
# Ensure proper DISPLAY and XAUTHORITY environment variables are set
set-environment -g DISPLAY $DISPLAY
set-environment -g XAUTHORITY $XAUTHORITY

